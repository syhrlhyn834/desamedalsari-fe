import{_ as V}from"./Loader.fb3add51.js";import{u as M,c as m,b as i,w as n,a as t,F as h,g as _,r,o as d,d as v,n as y,e as p}from"./entry.b57668ff.js";const C=t("div",{class:"flex justify-between items-center mb-3"},[t("div",{class:"text-2xl font-semibold mb-2"},"Pengaturan Footer")],-1),U={class:"grid animate-fade mb-6"},B={class:"col-12"},x={class:"card"},F=t("div",{class:"mb-5 text-lg font-medium my-1"},"Sosial Media",-1),P={class:"block"},L={class:"mb-6 flex w-full"},$={class:"w-1/3 flex-none"},I={class:"flex-none flex pt-3"},A=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.8em",height:"1.8em",viewBox:"0 0 24 24"},[t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v14m-7-7h14"})],-1),T=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.7em",height:"1.7em",viewBox:"0 0 24 24"},[t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 7h16m-10 4v6m4-6v6M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2l1-12M9 7V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3"})],-1),q={key:0,class:"capitalize"},j={data(){return{form:{profile_desa:null,address:null,copyright:null},toastSuccess:!1,formSocialMedia:[{name:"Instagram",link:null}],social_media:["Instagram","Facebook","Whatsapp","Twitter","Youtube"],loading:!1}},async mounted(){await this.loadData(),await this.loadSocialMedia()},methods:{async loadData(){const s=await $fetch(this.$config.public.API_PUBLIC_URL+"/api/footer");this.form=s},async loadSocialMedia(){const s=await $fetch(this.$config.public.API_PUBLIC_URL+"/api/social-media");this.formSocialMedia=s},async updateFooter(){const{valid:s}=await this.$refs.form.validate();s&&(this.loading=!0,await this.updateSocialMedia(),await $fetch(this.$config.public.API_PUBLIC_URL+"/api/footer",{method:"PATCH",headers:{Authorization:"Bearer "+_().token},body:this.form}),this.loading=!1,this.toastSuccess=!0)},async updateSocialMedia(){await $fetch(this.$config.public.API_PUBLIC_URL+"/api/social-media",{method:"POST",headers:{Authorization:"Bearer "+_().token},body:{social_media:this.formSocialMedia}})},addSocialMedia(){this.formSocialMedia.push({name:null,link:null})},removeSocialMedia(s){this.formSocialMedia=this.formSocialMedia.filter((a,o)=>o!=s)}}},R=Object.assign(j,{__name:"Footer",setup(s){return M({title:"Pengaturan Footer"}),(a,o)=>{const u=r("v-btn"),g=r("v-snackbar"),c=r("v-textarea"),w=r("v-select"),k=r("v-text-field"),b=r("v-form"),S=V;return d(),m(h,null,[i(g,{modelValue:a.toastSuccess,"onUpdate:modelValue":o[1]||(o[1]=e=>a.toastSuccess=e),color:"#10B981",timeout:2500},{actions:n(()=>[i(u,{color:"white",variant:"text",onClick:o[0]||(o[0]=e=>a.toastSuccess=!1)},{default:n(()=>[v(" Tutup ")]),_:1})]),default:n(()=>[v(" Data berhasil diperbarui! ")]),_:1},8,["modelValue"]),C,t("div",U,[t("div",B,[t("div",x,[i(b,{ref:"form"},{default:n(()=>[i(c,{rules:[e=>!!e||"Field is required"],rows:"3",variant:"outlined",label:"Profil Desa",clearable:"",modelValue:a.form.profile,"onUpdate:modelValue":o[2]||(o[2]=e=>a.form.profile=e)},null,8,["rules","modelValue"]),i(c,{rules:[e=>!!e||"Field is required"],rows:"2",variant:"outlined",label:"Alamat Lengkap",clearable:"",modelValue:a.form.address,"onUpdate:modelValue":o[3]||(o[3]=e=>a.form.address=e)},null,8,["rules","modelValue"]),i(c,{rules:[e=>!!e||"Field is required"],rows:"2",variant:"outlined",label:"Copyright",clearable:"",modelValue:a.form.copyright,"onUpdate:modelValue":o[4]||(o[4]=e=>a.form.copyright=e)},null,8,["rules","modelValue"]),F,t("div",P,[(d(!0),m(h,null,y(a.formSocialMedia,(e,f)=>(d(),m("div",L,[t("div",$,[i(w,{items:a.social_media,rules:[l=>!!l||"Field is required"],modelValue:e.name,"onUpdate:modelValue":l=>e.name=l,variant:"outlined","hide-details":"auto",label:"Nama Sosial Media"},null,8,["items","rules","modelValue","onUpdate:modelValue"])]),i(k,{rules:[l=>!!l||"Field is required"],class:"mx-3",modelValue:e.link,"onUpdate:modelValue":l=>e.link=l,variant:"outlined","hide-details":"auto",label:"Link"},null,8,["rules","modelValue","onUpdate:modelValue"]),t("div",I,[f==a.formSocialMedia.length-1?(d(),p(u,{key:0,onClick:o[5]||(o[5]=l=>a.addSocialMedia()),color:"#10B981",style:{height:"40px !important",width:"20px !important",padding:"0 0px !important"}},{default:n(()=>[A]),_:1})):(d(),p(u,{key:1,onClick:l=>a.removeSocialMedia(f),color:"#FC4100",style:{height:"40px !important",width:"20px !important",padding:"0 0px !important"}},{default:n(()=>[T]),_:2},1032,["onClick"]))])]))),256))])]),_:1},512),i(u,{onClick:a.updateFooter,color:"#10B981",class:"mt-1 text-white px-3 py-2"},{default:n(()=>[a.loading?(d(),p(S,{key:1})):(d(),m("span",q,"Update"))]),_:1},8,["onClick"])])])])],64)}}});export{R as default};
