import{_ as h}from"./Loader.fb3add51.js";import{u as f,c as l,a,b as s,w as d,g as p,r as i,o as n,e as g}from"./entry.b57668ff.js";import{c as v}from"./createSlug.32ba2e5c.js";const b={class:"grid animate-fade"},w={class:"col-12"},B={class:"card"},k=a("h3",{class:"text-2xl font-medium mb-5"},"Tambah Kategori Berita",-1),y={key:0,class:"capitalize"},C={data(){return{data:null,loading:!1,renderRichEditor:!1,form:{name:null,slug:null}}},async mounted(){const e=await $fetch(this.$config.public.API_PUBLIC_URL+"/api/news-category");this.items=e,this.renderRichEditor=!0},methods:{async addNews(){const{valid:e}=await this.$refs.form.validate();e&&(this.loading=!0,this.form.slug=v(this.form.name),await $fetch(this.$config.public.API_PUBLIC_URL+"/api/news-category",{method:"POST",headers:{Authorization:"Bearer "+p().token},body:this.form}),this.loading=!1,this.$router.push("/dashboard/news"))},contentChange(e){this.data=e}}},P=Object.assign(C,{__name:"add",setup(e){return f({title:"Tambah Kategori Berita"}),(t,r)=>{const c=i("v-text-field"),m=i("v-form"),u=h,_=i("v-btn");return n(),l("div",b,[a("div",w,[a("div",B,[k,s(m,{ref:"form"},{default:d(()=>[a("div",null,[s(c,{rules:[o=>!!o||"Field is required"],modelValue:t.form.name,"onUpdate:modelValue":r[0]||(r[0]=o=>t.form.name=o),variant:"outlined","hide-details":"auto",label:"Kategori Berita"},null,8,["rules","modelValue"])])]),_:1},512),s(_,{onClick:t.addNews,color:"#10B981",class:"mt-5 text-white px-3 py-2"},{default:d(()=>[t.loading?(n(),g(u,{key:1})):(n(),l("span",y,"Submit"))]),_:1},8,["onClick"])])])])}}});export{P as default};
