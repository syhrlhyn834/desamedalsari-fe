import{_}from"./MediaLibrary.e0693bf9.js";import{_ as b}from"./Loader.fb3add51.js";import{u as w,c as f,b as a,w as s,a as l,F as k,g as V,r as n,o as m,d as u,m as y,e as C}from"./entry.b57668ff.js";const L=l("div",{class:"flex justify-between items-center mb-3"},[l("div",{class:"text-2xl font-semibold mb-2"},"Pengaturan Header")],-1),B={class:"grid animate-fade mb-6"},M={class:"col-12"},S={class:"card"},U={key:0,class:"relative w-fit mt-4"},H=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",viewBox:"0 0 48 48"},[l("defs",null,[l("mask",{id:"ipSCloseOne0"},[l("g",{fill:"none","stroke-linejoin":"round","stroke-width":"4"},[l("path",{fill:"#fff",stroke:"#fff",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4S4 12.954 4 24s8.954 20 20 20Z"}),l("path",{stroke:"#000","stroke-linecap":"round",d:"M29.657 18.343L18.343 29.657m0-11.314l11.314 11.314"})])])]),l("path",{fill:"#10B981",d:"M0 0h48v48H0z",mask:"url(#ipSCloseOne0)"})],-1),$=[H],I={class:"my-1"},z=l("div",{class:"flex items-center"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.3em",height:"1.3em",viewBox:"0 0 20 20"},[l("path",{fill:"white",d:"M17.125 6.17L15.079.535c-.151-.416-.595-.637-.989-.492L.492 5.006c-.394.144-.593.597-.441 1.013l2.156 5.941V8.777c0-1.438 1.148-2.607 2.56-2.607H8.36l4.285-3.008l2.479 3.008zM19.238 8H4.767a.761.761 0 0 0-.762.777v9.42c.001.444.343.803.762.803h14.471c.42 0 .762-.359.762-.803v-9.42A.761.761 0 0 0 19.238 8M18 17H6v-2l1.984-4.018l2.768 3.436l2.598-2.662l3.338-1.205L18 14z"})]),l("div",{class:"ml-1 font-semibold"},"Media Library")],-1),P={key:0,class:"capitalize"},T={data(){return{openMediaLibrary:!1,form:{no_telp:null,email:null,logo:null,site_name:null,description:null},toast:!1,toastSuccess:!1,loading:!1}},async mounted(){await this.loadData()},methods:{async loadData(){const i=await $fetch(this.$config.public.API_PUBLIC_URL+"/api/header");this.form=i},async updateHeader(){const{valid:i}=await this.$refs.form.validate();if(i){if(!this.form.logo){this.toast=!0;return}this.loading=!0,await $fetch(this.$config.public.API_PUBLIC_URL+"/api/header",{method:"PATCH",headers:{Authorization:"Bearer "+V().token},body:this.form}),this.loading=!1,location.reload()}},onImageSelected(i){this.form.logo=i}}},A=Object.assign(T,{__name:"Header",setup(i){return w({title:"Pengaturan Header"}),(o,t)=>{const d=n("v-btn"),p=n("v-snackbar"),c=_,r=n("v-text-field"),v=n("v-img"),h=b,g=n("v-form");return m(),f(k,null,[a(p,{modelValue:o.toastSuccess,"onUpdate:modelValue":t[1]||(t[1]=e=>o.toastSuccess=e),color:"#10B981",timeout:2500},{actions:s(()=>[a(d,{color:"white",variant:"text",onClick:t[0]||(t[0]=e=>o.toastSuccess=!1)},{default:s(()=>[u(" Tutup ")]),_:1})]),default:s(()=>[u(" Data berhasil diperbarui! ")]),_:1},8,["modelValue"]),a(p,{modelValue:o.toast,"onUpdate:modelValue":t[3]||(t[3]=e=>o.toast=e),color:"red",timeout:3e3},{actions:s(()=>[a(d,{color:"white",variant:"text",onClick:t[2]||(t[2]=e=>o.toastUnauthorized=!1)},{default:s(()=>[u(" Tutup ")]),_:1})]),default:s(()=>[u(" Thumbnail wajib diisi! ")]),_:1},8,["modelValue"]),a(c,{onOnImageSelected:o.onImageSelected,onOnCloseModal:t[4]||(t[4]=e=>o.openMediaLibrary=!1),open:o.openMediaLibrary},null,8,["onOnImageSelected","open"]),L,l("div",B,[l("div",M,[a(g,{ref:"form"},{default:s(()=>[l("div",S,[a(r,{rules:[e=>!!e||"Field is required"],modelValue:o.form.no_telp,"onUpdate:modelValue":t[5]||(t[5]=e=>o.form.no_telp=e),variant:"outlined","hide-details":"auto",label:"No Telepon"},null,8,["rules","modelValue"]),a(r,{rules:[e=>!!e||"Field is required"],class:"my-4",modelValue:o.form.email,"onUpdate:modelValue":t[6]||(t[6]=e=>o.form.email=e),variant:"outlined","hide-details":"auto",label:"Email"},null,8,["rules","modelValue"]),a(r,{rules:[e=>!!e||"Field is required"],class:"my-4",modelValue:o.form.site_name,"onUpdate:modelValue":t[7]||(t[7]=e=>o.form.site_name=e),variant:"outlined","hide-details":"auto",label:"Site Name"},null,8,["rules","modelValue"]),a(r,{rules:[e=>!!e||"Field is required"],class:"my-4",modelValue:o.form.description,"onUpdate:modelValue":t[8]||(t[8]=e=>o.form.description=e),variant:"outlined","hide-details":"auto",label:"Description"},null,8,["rules","modelValue"]),o.form.logo?(m(),f("div",U,[a(v,{src:o.form.logo,width:"300"},null,8,["src"]),l("div",{onClick:t[9]||(t[9]=e=>o.form.logo=null),class:"absolute cursor-pointer right-3 top-3 z-50"},$)])):y("",!0),l("div",I,[a(d,{onClick:t[10]||(t[10]=e=>o.openMediaLibrary=!0),color:"#10B981",class:"flex-none text-white px-3"},{default:s(()=>[z]),_:1})]),a(d,{onClick:o.updateHeader,color:"#10B981",class:"mt-4 text-white px-3 py-2"},{default:s(()=>[o.loading?(m(),C(h,{key:1})):(m(),f("span",P,"Update"))]),_:1},8,["onClick"])])]),_:1},512)])])],64)}}});export{A as default};
