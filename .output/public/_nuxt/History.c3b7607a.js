import{c as f,_ as C}from"./RichEditor.client.2681fd79.js";import{_ as b}from"./Loader.fb3add51.js";import{u as g,c as d,b as i,w as s,a as e,e as l,m as k,F as v,g as y,r as _,o as n,d as u}from"./entry.b57668ff.js";const B=f(C),S=e("div",{class:"text-2xl font-semibold mb-2"},"Sejarah Desa",-1),w={class:"grid animate-fade"},V={class:"col-12"},j={class:"card"},x=e("h3",{class:"mb-3 text-xl font-medium"},"Konten",-1),R={key:0,class:"capitalize"},E={data(){return{data:null,renderRichEditor:!1,loading:!1,toastSuccess:!1}},async mounted(){const a=await $fetch(this.$config.public.API_PUBLIC_URL+"/api/sejarah");this.data=a.sejarah,this.renderRichEditor=!0},methods:{async updateContent(){this.loading=!0,await $fetch(this.$config.public.API_PUBLIC_URL+"/api/sejarah",{method:"POST",headers:{Authorization:"Bearer "+y().token},body:{content:this.data}}),this.loading=!1,this.toastSuccess=!0},contentChange(a){this.data=a}}},$=Object.assign(E,{__name:"History",setup(a){return g({title:"Sejarah Desa"}),(t,o)=>{const c=_("v-btn"),h=_("v-snackbar"),m=B,p=b;return n(),d(v,null,[i(h,{modelValue:t.toastSuccess,"onUpdate:modelValue":o[1]||(o[1]=r=>t.toastSuccess=r),color:"#10B981",timeout:2500},{actions:s(()=>[i(c,{color:"white",variant:"text",onClick:o[0]||(o[0]=r=>t.toastSuccess=!1)},{default:s(()=>[u(" Tutup ")]),_:1})]),default:s(()=>[u(" Data berhasil diperbarui! ")]),_:1},8,["modelValue"]),S,e("div",w,[e("div",V,[e("div",j,[x,t.renderRichEditor?(n(),l(m,{key:0,data:t.data,onContentChange:t.contentChange},null,8,["data","onContentChange"])):k("",!0),i(c,{onClick:t.updateContent,color:"#10B981",class:"mt-4 text-white px-3 py-2"},{default:s(()=>[t.loading?(n(),l(p,{key:1})):(n(),d("span",R,"Submit"))]),_:1},8,["onClick"])])])])],64)}}});export{$ as default};
